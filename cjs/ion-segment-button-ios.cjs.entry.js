'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

const core = require('./core-0a098097.js');
const theme = require('./theme-43d6bd40.js');

let ids = 0;
const SegmentButton = class {
    constructor(hostRef) {
        core.registerInstance(this, hostRef);
        this.segmentEl = null;
        this.checked = false;
        /**
         * If `true`, the user cannot interact with the segment button.
         */
        this.disabled = false;
        /**
         * Set the layout of the text and icon in the segment.
         */
        this.layout = 'icon-top';
        /**
         * The type of the button.
         */
        this.type = 'button';
        /**
         * The value of the segment button.
         */
        this.value = 'ion-sb-' + (ids++);
        this.updateState = () => {
            if (this.segmentEl) {
                this.checked = this.segmentEl.value === this.value;
            }
        };
    }
    connectedCallback() {
        const segmentEl = this.segmentEl = this.el.closest('ion-segment');
        if (segmentEl) {
            this.updateState();
            segmentEl.addEventListener('ionSelect', this.updateState);
        }
    }
    disconnectedCallback() {
        const segmentEl = this.segmentEl;
        if (segmentEl) {
            segmentEl.removeEventListener('ionSelect', this.updateState);
            this.segmentEl = null;
        }
    }
    get hasLabel() {
        return !!this.el.querySelector('ion-label');
    }
    get hasIcon() {
        return !!this.el.querySelector('ion-icon');
    }
    render() {
        const { checked, type, disabled, hasIcon, hasLabel, layout } = this;
        const mode = core.getIonMode(this);
        return (core.h(core.Host, { "aria-disabled": disabled ? 'true' : null, class: {
                [mode]: true,
                'in-toolbar': theme.hostContext('ion-toolbar', this.el),
                'in-toolbar-color': theme.hostContext('ion-toolbar[color]', this.el),
                'in-segment': theme.hostContext('ion-segment', this.el),
                'in-segment-color': theme.hostContext('ion-segment[color]', this.el),
                'segment-button-has-label': hasLabel,
                'segment-button-has-icon': hasIcon,
                'segment-button-has-label-only': hasLabel && !hasIcon,
                'segment-button-has-icon-only': hasIcon && !hasLabel,
                'segment-button-disabled': disabled,
                'segment-button-checked': checked,
                [`segment-button-layout-${layout}`]: true,
                'ion-activatable': true,
                'ion-activatable-instant': true,
                'ion-focusable': true,
            } }, core.h("button", { type: type, "aria-pressed": checked ? 'true' : 'false', class: "button-native", disabled: disabled }, core.h("span", { class: "button-inner" }, core.h("slot", null)), mode === 'md' && core.h("ion-ripple-effect", null)), core.h("div", { part: "indicator", class: {
                'segment-button-indicator': true,
                'segment-button-indicator-animated': true
            } }, core.h("div", { part: "indicator-background", class: "segment-button-indicator-background" }))));
    }
    get el() { return core.getElement(this); }
    static get style() { return ":host {\n  /**\n   * \@prop --background: Background of the segment button\n   * \@prop --background-checked: Background of the checked segment button\n   *\n   * \@prop --background-hover: Background of the segment button on hover\n   * \@prop --background-focused: Background of the segment button when focused with the tab key\n   *\n   * \@prop --background-hover-opacity: Opacity of the segment button background on hover\n   * \@prop --background-focused-opacity: Opacity of the segment button background when focused with the tab key\n   *\n   * \@prop --color: Color of the segment button\n   * \@prop --color-checked: Color of the checked segment button\n   * \@prop --color-hover: Color of the segment button on hover\n   * \@prop --color-focused: Color of the segment button when focused with the tab key\n   *\n   * \@prop --border-radius: Radius of the segment button border\n   * \@prop --border-color: Color of the segment button border\n   * \@prop --border-style: Style of the segment button border\n   * \@prop --border-width: Width of the segment button border\n   *\n   * \@prop --margin-top: Top margin of the segment button\n   * \@prop --margin-end: Right margin if direction is left-to-right, and left margin if direction is right-to-left of the segment button\n   * \@prop --margin-bottom: Bottom margin of the segment button\n   * \@prop --margin-start: Left margin if direction is left-to-right, and right margin if direction is right-to-left of the segment button\n   *\n   * \@prop --padding-top: Top padding of the segment button\n   * \@prop --padding-end: Right padding if direction is left-to-right, and left padding if direction is right-to-left of the segment button\n   * \@prop --padding-bottom: Bottom padding of the segment button\n   * \@prop --padding-start: Left padding if direction is left-to-right, and right padding if direction is right-to-left of the segment button\n   *\n   * \@prop --transition: Transition of the segment button\n   *\n   * \@prop --indicator-height: Height of the indicator for the checked segment button\n   * \@prop --indicator-box-shadow: Box shadow on the indicator for the checked segment button\n   * \@prop --indicator-color: Color of the indicator for the checked segment button\n   * \@prop --indicator-transition: Transition of the indicator for the checked segment button\n   * \@prop --indicator-transform: Transform of the indicator for the checked segment button\n   */\n  --color: initial;\n  --color-hover: var(--color);\n  --color-checked: var(--color);\n  --color-disabled: var(--color);\n  --padding-start: 0;\n  --padding-end: 0;\n  --padding-top: 0;\n  --padding-bottom: 0;\n  border-radius: var(--border-radius);\n  display: -ms-flexbox;\n  display: flex;\n  position: relative;\n  -ms-flex: 1 1 auto;\n  flex: 1 1 auto;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  height: auto;\n  background: var(--background);\n  color: var(--color);\n  text-decoration: none;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  -webkit-font-kerning: none;\n  font-kerning: none;\n  cursor: pointer;\n}\n\n.button-native {\n  border-radius: 0;\n  font-family: inherit;\n  font-size: inherit;\n  font-style: inherit;\n  font-weight: inherit;\n  letter-spacing: inherit;\n  text-decoration: inherit;\n  text-indent: inherit;\n  text-overflow: inherit;\n  text-transform: inherit;\n  text-align: inherit;\n  white-space: inherit;\n  color: inherit;\n  margin-left: var(--margin-start);\n  margin-right: var(--margin-end);\n  margin-top: var(--margin-top);\n  margin-bottom: var(--margin-bottom);\n  padding-left: var(--padding-start);\n  padding-right: var(--padding-end);\n  padding-top: var(--padding-top);\n  padding-bottom: var(--padding-bottom);\n  -webkit-transform: translate3d(0,  0,  0);\n  transform: translate3d(0,  0,  0);\n  display: -ms-flexbox;\n  display: flex;\n  position: relative;\n  -ms-flex-direction: inherit;\n  flex-direction: inherit;\n  -ms-flex-positive: 1;\n  flex-grow: 1;\n  -ms-flex-align: center;\n  align-items: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  width: 100%;\n  min-width: inherit;\n  max-width: inherit;\n  height: auto;\n  min-height: inherit;\n  max-height: inherit;\n  -webkit-transition: var(--transition);\n  transition: var(--transition);\n  border: none;\n  outline: none;\n  background: transparent;\n  contain: content;\n  pointer-events: none;\n  overflow: hidden;\n  z-index: 2;\n}\n\@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0) {\n  .button-native {\n    margin-left: unset;\n    margin-right: unset;\n    -webkit-margin-start: var(--margin-start);\n    margin-inline-start: var(--margin-start);\n    -webkit-margin-end: var(--margin-end);\n    margin-inline-end: var(--margin-end);\n  }\n}\n\@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0) {\n  .button-native {\n    padding-left: unset;\n    padding-right: unset;\n    -webkit-padding-start: var(--padding-start);\n    padding-inline-start: var(--padding-start);\n    -webkit-padding-end: var(--padding-end);\n    padding-inline-end: var(--padding-end);\n  }\n}\n\n.button-native::after {\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  position: absolute;\n  content: \"\";\n  opacity: 0;\n}\n\n.button-inner {\n  display: -ms-flexbox;\n  display: flex;\n  position: relative;\n  -ms-flex-flow: inherit;\n  flex-flow: inherit;\n  -ms-flex-align: center;\n  align-items: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n}\n\n:host(.segment-button-checked) {\n  background: var(--background-checked);\n  color: var(--color-checked);\n}\n\n:host(.segment-button-disabled) {\n  cursor: default;\n  pointer-events: none;\n}\n\n:host(.ion-focused) .button-native {\n  color: var(--color-focused);\n}\n:host(.ion-focused) .button-native::after {\n  background: var(--background-focused);\n  opacity: var(--background-focused-opacity);\n}\n\n\@media (any-hover: hover) {\n  :host(:hover) .button-native {\n    color: var(--color-hover);\n  }\n  :host(:hover) .button-native::after {\n    background: var(--background-hover);\n    opacity: var(--background-hover-opacity);\n  }\n\n  :host(.segment-button-checked:hover) .button-native {\n    color: var(--color-checked);\n  }\n}\n::slotted(ion-icon) {\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  pointer-events: none;\n}\n\n::slotted(ion-label) {\n  display: block;\n  -ms-flex-item-align: center;\n  align-self: center;\n  line-height: 22px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  pointer-events: none;\n}\n\n:host(.segment-button-layout-icon-top) .button-native {\n  -ms-flex-direction: column;\n  flex-direction: column;\n}\n\n:host(.segment-button-layout-icon-start) .button-native {\n  -ms-flex-direction: row;\n  flex-direction: row;\n}\n\n:host(.segment-button-layout-icon-end) .button-native {\n  -ms-flex-direction: row-reverse;\n  flex-direction: row-reverse;\n}\n\n:host(.segment-button-layout-icon-bottom) .button-native {\n  -ms-flex-direction: column-reverse;\n  flex-direction: column-reverse;\n}\n\n:host(.segment-button-layout-icon-hide) ::slotted(ion-icon) {\n  display: none;\n}\n\n:host(.segment-button-layout-label-hide) ::slotted(ion-label) {\n  display: none;\n}\n\nion-ripple-effect {\n  color: var(--ripple-color, var(--color-checked));\n}\n\n.segment-button-indicator {\n  -webkit-transform-origin: left;\n  transform-origin: left;\n  position: absolute;\n  opacity: 0;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  will-change: transform, opacity;\n  pointer-events: none;\n}\n\n.segment-button-indicator-background {\n  width: 100%;\n  height: var(--indicator-height);\n  -webkit-transform: var(--indicator-transform);\n  transform: var(--indicator-transform);\n  -webkit-box-shadow: var(--indicator-box-shadow);\n  box-shadow: var(--indicator-box-shadow);\n  pointer-events: none;\n}\n\n.segment-button-indicator-animated {\n  -webkit-transition: var(--indicator-transition);\n  transition: var(--indicator-transition);\n}\n\n:host(.segment-button-checked) .segment-button-indicator {\n  opacity: 1;\n}\n\n\@media (prefers-reduced-motion: reduce) {\n  .segment-button-indicator-background {\n    -webkit-transform: none;\n    transform: none;\n  }\n\n  .segment-button-indicator-animated {\n    -webkit-transition: none;\n    transition: none;\n  }\n}\n:host {\n  --background: none;\n  --background-checked: none;\n  --background-hover: none;\n  --background-hover-opacity: 0;\n  --background-focused: none;\n  --background-focused-opacity: 0;\n  --border-radius: 7px;\n  --border-width: 1px;\n  --border-color: rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);\n  --border-style: solid;\n  --indicator-box-shadow: 0 0 5px rgba(0, 0, 0, 0.16);\n  --indicator-color: var(--ion-color-step-350, var(--ion-background-color, #fff));\n  --indicator-height: 100%;\n  --indicator-transition: transform 260ms cubic-bezier(0.4, 0, 0.2, 1);\n  --indicator-transform: none;\n  --transition: 100ms all linear;\n  --padding-top: 0;\n  --padding-end: 13px;\n  --padding-bottom: 0;\n  --padding-start: 13px;\n  margin-top: 2px;\n  margin-bottom: 2px;\n  position: relative;\n  -ms-flex-preferred-size: 0;\n  flex-basis: 0;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  min-width: 70px;\n  min-height: 28px;\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  font-size: 13px;\n  font-weight: 450;\n  line-height: 37px;\n}\n:host::before {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 5px;\n  margin-bottom: 5px;\n  -webkit-transition: 160ms opacity ease-in-out;\n  transition: 160ms opacity ease-in-out;\n  -webkit-transition-delay: 100ms;\n  transition-delay: 100ms;\n  border-left: var(--border-width) var(--border-style) var(--border-color);\n  content: \"\";\n  opacity: 1;\n  will-change: opacity;\n}\n\n:host(:first-of-type)::before {\n  border-left-color: transparent;\n}\n\n:host(.segment-button-disabled) {\n  opacity: 0.3;\n}\n\n::slotted(ion-icon) {\n  font-size: 24px;\n}\n\n:host(.segment-button-layout-icon-start) ::slotted(ion-label) {\n  margin-left: 2px;\n  margin-right: 0;\n}\n\@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0) {\n  :host(.segment-button-layout-icon-start) ::slotted(ion-label) {\n    margin-left: unset;\n    margin-right: unset;\n    -webkit-margin-start: 2px;\n    margin-inline-start: 2px;\n    -webkit-margin-end: 0;\n    margin-inline-end: 0;\n  }\n}\n\n:host(.segment-button-layout-icon-end) ::slotted(ion-label) {\n  margin-left: 0;\n  margin-right: 2px;\n}\n\@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0) {\n  :host(.segment-button-layout-icon-end) ::slotted(ion-label) {\n    margin-left: unset;\n    margin-right: unset;\n    -webkit-margin-start: 0;\n    margin-inline-start: 0;\n    -webkit-margin-end: 2px;\n    margin-inline-end: 2px;\n  }\n}\n\n.segment-button-indicator {\n  padding-left: 2px;\n  padding-right: 2px;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n}\n\@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0) {\n  .segment-button-indicator {\n    padding-left: unset;\n    padding-right: unset;\n    -webkit-padding-start: 2px;\n    padding-inline-start: 2px;\n    -webkit-padding-end: 2px;\n    padding-inline-end: 2px;\n  }\n}\n\n.segment-button-indicator-background {\n  border-radius: var(--border-radius);\n  background: var(--indicator-color);\n}\n\n.segment-button-indicator-background {\n  -webkit-transition: var(--indicator-transition);\n  transition: var(--indicator-transition);\n}\n\n:host(.segment-button-checked)::before,\n:host(.segment-button-after-checked)::before {\n  opacity: 0;\n}\n\n:host(.segment-button-checked) {\n  z-index: -1;\n}\n\n:host(.segment-button-activated) {\n  --indicator-transform: scale(0.95);\n}\n\n:host(.ion-focused) .button-native {\n  opacity: 0.7;\n}\n\n\@media (any-hover: hover) {\n  :host(:hover) .button-native {\n    opacity: 0.5;\n  }\n\n  :host(.segment-button-checked:hover) .button-native {\n    opacity: 1;\n  }\n}\n:host(.in-segment-color) {\n  background: none;\n  color: var(--ion-text-color, #000);\n}\n\n:host(.in-segment-color) .segment-button-indicator-background {\n  background: var(--ion-color-step-350, var(--ion-background-color, #fff));\n}\n\n\@media (any-hover: hover) {\n  :host(.in-segment-color:hover) .button-native,\n:host(.in-segment-color.segment-button-checked:hover) .button-native {\n    color: var(--ion-text-color, #000);\n  }\n}\n:host(.in-toolbar:not(.in-segment-color)) {\n  --background-checked: var(--ion-toolbar-segment-background-checked, none);\n  --color: var(--ion-toolbar-segment-color, var(--ion-toolbar-color), initial);\n  --color-checked: var(--ion-toolbar-segment-color-checked, var(--ion-toolbar-color), initial);\n  --indicator-color: var(--ion-toolbar-segment-indicator-color, var(--ion-color-step-350, var(--ion-background-color, #fff)));\n}\n\n:host(.in-toolbar-color) .segment-button-indicator-background {\n  background: #fff;\n}\n\n:host(.in-toolbar-color:not(.in-segment-color)) .button-native {\n  color: var(--ion-color-contrast);\n}\n\n:host(.in-toolbar-color.segment-button-checked:not(.in-segment-color)) .button-native {\n  color: var(--ion-color-base);\n}\n\n\@media (any-hover: hover) {\n  :host(.in-toolbar-color:not(.in-segment-color):hover) .button-native {\n    color: var(--ion-color-contrast);\n  }\n\n  :host(.in-toolbar-color.segment-button-checked:not(.in-segment-color):hover) .button-native {\n    color: var(--ion-color-base);\n  }\n}"; }
};

exports.ion_segment_button = SegmentButton;
